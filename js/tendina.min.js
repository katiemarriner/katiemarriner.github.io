(function(){var a=function(a,b){return function(){return a.apply(b,arguments)}},b=[].slice;!function(c){var d;return d=function(){function b(b,d){this._eventHandler=a(this._eventHandler,this),this.options=c.extend({},this.defaults,d),this.$el=c(b),this._checkOptions(),this.$el.addClass("tendina"),this.firstLvlSubmenu=".tendina > li",this.secondLvlSubmenu=".tendina > li > ul > li",this.firstLvlSubmenuLink=""+this.firstLvlSubmenu+" > a",this.secondLvlSubmenuLink=""+this.secondLvlSubmenu+" > a",this._hideSubmenus(),this.mouseEvent=this.options.onHover===!0?"mouseenter.tendina":"click.tendina",this._bindEvents()}return b.prototype.defaults={animate:!0,speed:500,onHover:!1,hoverDelay:200},b.prototype._bindEvents=function(){return c(document).on(this.mouseEvent,""+this.firstLvlSubmenuLink+", "+this.secondLvlSubmenuLink,this._eventHandler)},b.prototype._unbindEvents=function(){return c(document).off(this.mouseEvent)},b.prototype._isFirstLevel=function(a){return c(a).parent().parent().hasClass("tendina")?!0:void 0},b.prototype._eventHandler=function(a){var b,d;return d=a.currentTarget,b=this._isFirstLevel(d)?this.firstLvlSubmenu:this.secondLvlSubmenu,this._hasChildenAndIsHidden(d)?(a.preventDefault(),this.options.onHover?setTimeout(function(a){return function(){return c(d).is(":hover")?a._openSubmenu(b,d):void 0}}(this),this.options.hoverDelay):this._openSubmenu(b,d)):this._isCurrentlyOpen(d)&&(a.preventDefault(),!this.options.onHover)?this._closeSubmenu(d):void 0},b.prototype._openSubmenu=function(a,b){var d,e,f;return d=c(a).find("> ul"),e=c(a).find("> ul > li > ul"),f=c(b).next("ul"),c(a).removeClass("selected"),c(b).parent().addClass("selected"),this._close(d),this._open(f),a===this.firstLvlSubmenu&&(c(a).find("> ul > li").removeClass("selected"),this._close(e)),this.options.openCallback?this.options.openCallback(c(b).parent()):void 0},b.prototype._closeSubmenu=function(a){var b;return b=c(a).next("ul"),c(a).parent().removeClass("selected"),this._close(b),this.options.closeCallback?this.options.closeCallback(c(a).parent()):void 0},b.prototype._open=function(a){return this.options.animate?a.stop(!0).slideDown(this.options.speed):a.show()},b.prototype._close=function(a){return this.options.animate?a.stop(!0).slideUp(this.options.speed):a.hide()},b.prototype._hasChildenAndIsHidden=function(a){return c(a).next("ul").length>0&&c(a).next("ul").is(":hidden")},b.prototype._isCurrentlyOpen=function(a){return c(a).parent().hasClass("selected")},b.prototype._hideSubmenus=function(){return c(""+this.firstLvlSubmenu+" > ul, "+this.secondLvlSubmenu+" > ul").hide(),c(""+this.firstLvlSubmenu+" > ul").removeClass("selected")},b.prototype._showSubmenus=function(){return c(""+this.firstLvlSubmenu+" > ul, "+this.secondLvlSubmenu+" > ul").show(),c(""+this.firstLvlSubmenu).removeClass("selected")},b.prototype._checkOptions=function(){return this.options.animate!==!0&&console.warn("jQuery.fn.Tendina - '"+this.options.animate+"' is not a valid parameter for the 'animate' option. Falling back to default value."),this.options.speed!==parseInt(this.options.speed)&&console.warn("jQuery.fn.Tendina - '"+this.options.speed+"' is not a valid parameter for the 'speed' option. Falling back to default value."),this.options.onHover!==!0?console.warn("jQuery.fn.Tendina - '"+this.options.onHover+"' is not a valid parameter for the 'onHover' option. Falling back to default value."):void 0},b.prototype.destroy=function(){return this.$el.removeData("tendina"),this._unbindEvents(),this._showSubmenus(),this.$el.removeClass("tendina"),this.$el.find(".selected").removeClass("selected")},b.prototype.hideAll=function(){return this._hideSubmenus()},b.prototype.showAll=function(){return this._showSubmenus()},b}(),c.fn.extend({tendina:function(){var a,e;return e=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],this.each(function(){var b,f;return b=c(this),f=b.data("tendina"),f||b.data("tendina",f=new d(this,e)),"string"==typeof e?f[e].apply(f,a):void 0})}})}(window.jQuery,window)}).call(this);